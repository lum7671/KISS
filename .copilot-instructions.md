# KISS Launcher AI Assistant Guidelines

## Project Context

The KISS (Keep It Simple, Stupid) Launcher is an optimized Android launcher based on v3.22.1 with significant performance improvements and modern architecture updates. When working with this project, consider the following context:

### Project Overview
- **Current Version**: v4.0.2 - Coroutines Migration Edition
- **Package ID**: `fr.neamar.kiss.lum7671` (conflict-free installation)
- **Target**: Android 13+ (API 33+) with Android 15 target
- **Architecture**: Java 17 + Gradle 8.13 with Kotlin Coroutines
- **Focus**: Minimalist launcher with smart search and history-based app recommendations

### Key Features & Optimizations
1. **3-Tier Icon Caching System**: Glide + LRU Cache (eliminates flickering)
2. **Hybrid Memory Database**: Memory-first with background disk sync (10x+ faster)
3. **6 History Sorting Modes**: RECENCY, FREQUENCY, FRECENCY, ADAPTIVE, TIME, ALPHABETICALLY
4. **Modern AsyncTask Migration**: Complete migration to Kotlin Coroutines
5. **Smart Performance**: 96% size reduction (1.2MB APK), 30-50% faster loading

### Technical Architecture
- **Core Components**: SummonActivity, DataHandler, Various Providers (App, Contact, Settings, etc.)
- **Data Flow**: Loader â†’ Provider â†’ POJO â†’ Result pattern
- **Caching**: Multi-level with usage-based promotion
- **Memory Management**: Smart trimming and background optimization

### Development Guidelines

#### Code Style & Patterns
- Follow existing Java/Kotlin hybrid architecture
- Use CoroutineUtils for background operations (no AsyncTask)
- Maintain minimalist philosophy - features should benefit >10% of users
- Atomic pull requests (<200 LOC preferred)
- No stylistic improvements mixed with functional changes

#### Performance Priorities
1. **Icon Loading**: Use 3-tier caching system
2. **Database Operations**: Prefer memory mode for frequent queries
3. **Background Tasks**: Use Kotlin Coroutines via CoroutineUtils
4. **Memory Usage**: Implement smart cleanup and trimming

#### File Organization
- **Core Logic**: `/app/src/main/java/fr/neamar/kiss/`
- **Providers**: Individual provider classes for different data types
- **Documentation**: All guides in `/docs/` with kebab-case naming
- **Build Configs**: Release, Debug, Profile variants available
- **Source Analysis**: `/docs/source-analysis/` - Code analysis and refactoring documentation

##### Source Analysis Documentation Purpose
1. **Primary Goal**: Code cleanup and unnecessary code removal
   - Identify and document unused or redundant code
   - Plan systematic code removal
   - Track dependencies between components

2. **Secondary Goal**: Performance optimization reference
   - Document current implementation details
   - Track potential optimization points
   - Serve as reference for future improvements

3. **Directory Structure**:
   - `00-overview.md`: Project structure and analysis summary
   - `01-ui-components.md`: UI related code analysis
   - `02-data-management.md`: Data handling analysis
   - `performance-analysis.md`: Performance related findings
   - `custom-views-analysis.md`: Custom view implementations
   - `search-system-analysis.md`: Search functionality analysis

4. **Documentation Focus**:
   - Code dependency mapping
   - Usage analysis of classes and methods
   - Dead code identification
   - Refactoring opportunities
   - Performance bottleneck documentation

### History Sorting System (Key Component)
The launcher features 6 sophisticated sorting algorithms:

1. **RECENCY** (Default): Simple ID-based recent usage
2. **FREQUENCY**: Total usage count based
3. **FRECENCY**: Firefox-inspired frequency Ã— recency formula
4. **ADAPTIVE**: 36-hour window contextual sorting
5. **TIME**: 24-hour cycle pattern matching with triangle wave algorithm
6. **ALPHABETICALLY**: Name-based sorting with consistent order

### Current Development Status
- âœ… AsyncTask â†’ Coroutines migration completed (8 files)
- âœ… Performance optimizations implemented
- âœ… Modern build system (Gradle 8.13)
- ðŸ”„ 100 deprecated API warnings remaining (low priority)
- ðŸ”„ Documentation improvements ongoing

### Known Issues & Limitations
- Some PreferenceManager usage still uses deprecated android.preference
- Lint warnings reduced from 363 to ~280 (23% improvement)
- No automated testing suite (manual validation required)

## AI Assistant Rules

### When Working with KISS:

1. **Understand the Minimalist Philosophy**: Always ask "Is this feature needed for >10% of users?"

2. **Respect the Architecture**: 
   - Don't suggest RecyclerView (intentionally avoided)
   - Use existing Provider/POJO/Result patterns
   - Maintain Java-Kotlin interop via CoroutineUtils

3. **Performance First**:
   - Consider icon caching implications
   - Prefer memory operations for frequent data
   - Think about battery and memory efficiency

4. **Code Quality**:
   - Follow atomic change principles
   - Consider all Android versions (API 33+)
   - Test on emulator when possible

5. **Documentation**:
   - Update relevant docs in `/docs/` folder
   - Use kebab-case for new documentation files
   - Maintain English for technical docs, Korean acceptable for internal notes

### Response Guidelines:

- **Always consider project context** from the documentation read
- **Reference existing patterns** from the codebase when suggesting changes
- **Consider performance implications** of any suggested modifications
- **Maintain the minimalist philosophy** in feature suggestions
- **Provide actionable, atomic suggestions** rather than broad changes

### Available Documentation Context:
- Main project README with version history and features
- Contributing guidelines and development workflow
- TODO list with current issues and completed work
- Code cleanup analysis (lint reduction from 363â†’280 warnings)
- Optimization analysis (AsyncTask migration, performance improvements)
- Profile build guide for performance testing
- History sorting system comprehensive guide
- Testing, refactoring, and QA suite documentation

This context should inform all interactions with the KISS Launcher project to ensure suggestions align with the project's goals, architecture, and development practices.
